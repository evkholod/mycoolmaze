<!DOCTYPE html>
<html>
<head>
  <title>Загадка 2</title>
  <meta charset="UTF-8">
  <style>
    body { background:black; color:lime; font-family:"Comic Sans MS", cursive; text-align:center; }
    a { color:cyan; font-weight:bold; }
    .bar { margin:10px 0; }
    img { image-rendering: pixelated; }
  </style>
  <script>
    function onReady(){
      const coins = parseInt(localStorage.getItem("coins") || 0);
      document.getElementById("wallet").innerText = coins;
      if(localStorage.getItem("p2_done")==="1"){
        document.getElementById("btnSolve").disabled = true;
        document.getElementById("hint").innerText = "Эта загадка уже решена.";
      }
    }
    function solvePuzzle(){
      if(localStorage.getItem("p2_done")==="1"){ alert("Уже решено."); return; }
      let coins = parseInt(localStorage.getItem("coins") || 0);
      coins += 500;
      localStorage.setItem("coins", coins);
      localStorage.setItem("p2_done","1");
      alert("Ты заработал ещё 500 коинов! Всего: " + coins);
      window.location.href = "prize.html";
    }
    window.addEventListener('load', onReady);
  </script>
</head>
<body>
  <div class="bar"><img src="img/under.gif" alt="Under Construction"></div>
  <h1>Загадка 2</h1>
  <p>Кошелёк: <b id="wallet">0</b> коинов</p>

  <p>Нажми кнопку, чтобы собрать коины и открыть диск!</p>
  <p id="hint"></p>
  <p><button id="btnSolve" onclick="solvePuzzle()">Собрать коинов</button></p>

  <div class="bar"><img src="img/skull.gif" alt="skull"></div>
  <p><a href="index.html">⬅ На главную</a></p>
</body>
</html>
